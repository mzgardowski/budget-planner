echo "ğŸ”  Checking your code before commit..."

# Run ESLint
echo "ğŸ§¹  Running ESLint..."
yarn run lint:fix
yarn lint
if [ $? -ne 0 ]; then
  echo "âŒ  ESLint found issues. Please fix them before committing."
  exit 1
fi

# Run Prettier check
echo "ğŸ¨  Checking Prettier formatting..."
yarn run format
if [ $? -ne 0 ]; then
  echo "âŒ  Code is not formatted correctly. Run: yarn format"
  exit 1
fi

# Optional: TypeScript type check
if [ -f "tsconfig.json" ]; then
  echo "ğŸ§   Running TypeScript type check..."
  yarn tsc --noEmit
  if [ $? -ne 0 ]; then
    echo "ğŸ’¥  TypeScript errors detected. Fix them before committing."
    exit 1
  fi
fi

echo "âœ…  All checks passed! Committing with confidence ğŸ˜"
